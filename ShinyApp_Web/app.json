[{"name":"app.R","content":"library(shiny)\r\n\r\n# Track selected dataset\r\nselected_dataset <- reactiveVal(NULL)\r\n\r\n# UI\r\nui <- fluidPage(\r\n  tags$head(\r\n    tags$style(HTML(\"\r\n      body {\r\n        font-family: 'Lato', sans-serif;\r\n        background-color: #f8f9fa;\r\n      }\r\n\r\n      .app-header {\r\n        background: linear-gradient(to right, #3DB07C, #3DB07C);\r\n        color: white;\r\n        padding: 25px 40px;\r\n        margin-bottom: 30px;\r\n      }\r\n\r\n      .app-header h2 {\r\n        margin: 0;\r\n        font-weight: 700;\r\n      }\r\n\r\n      .dataset-title {\r\n        font-size: 22px;\r\n        font-weight: 700;\r\n        margin-top: 15px;\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n      .dataset-subtitle {\r\n        font-size: 15px;\r\n        color: #333;\r\n        margin-bottom: 10px;\r\n      }\r\n\r\n      .dataset-card {\r\n        background: white;\r\n        border-radius: 10px;\r\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n        overflow: hidden;\r\n        margin: 0 auto 25px auto;\r\n        max-width: 1100px;\r\n        transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n      }\r\n\r\n      .dataset-card:hover {\r\n        transform: scale(1.01);\r\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\r\n      }\r\n\r\n      .dataset-header {\r\n        padding: 20px;\r\n        text-align: center;\r\n      }\r\n\r\n      .header-icon {\r\n        font-size: 36px;\r\n        color: white;\r\n      }\r\n\r\n      .info-row {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        font-weight: 600;\r\n        margin-bottom: 15px;\r\n        color: #555;\r\n      }\r\n\r\n      .info-left, .info-right {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 14px;\r\n      }\r\n\r\n      .info-left i, .info-right i {\r\n        margin-right: 5px;\r\n      }\r\n\r\n      .view-btn {\r\n        width: 100%;\r\n        border-radius: 5px;\r\n        padding: 10px;\r\n        background-color: white;\r\n        border: 2px solid #007bff;\r\n        color: #007bff;\r\n        font-weight: 600;\r\n        text-align: center;\r\n      }\r\n\r\n      .footer {\r\n        margin-top: 50px;\r\n        text-align: center;\r\n        color: gray;\r\n        font-size: 13px;\r\n      }\r\n\r\n      .iframe-wrapper {\r\n        width: 100%;\r\n        overflow-x: auto;\r\n        overflow-y: hidden;\r\n        max-width: 100%;\r\n        margin: auto;\r\n      }\r\n\r\n      .iframe-wrapper iframe {\r\n        width: 1600px;\r\n        height: 880px;\r\n        border: none;\r\n        clip-path: inset(0px 0px 180px 0px); /* crop footer */\r\n      }\r\n    \"))\r\n  ),\r\n  uiOutput(\"main_ui\")\r\n)\r\n\r\nserver <- function(input, output, session) {\r\n  output$main_ui <- renderUI({\r\n    if (is.null(selected_dataset())) {\r\n      tagList(\r\n        div(class = \"app-header\",\r\n            h2(\"Clinical RNA-seq Data Explorer\"),\r\n            span(\"Explore and analyze RNA sequencing datasets\")\r\n        ),\r\n        h3(class = \"text-center\", \"Available Datasets\"),\r\n        \r\n        # Splice\r\n        div(class = \"dataset-card\",\r\n            div(class = \"dataset-header\", style = \"background-color: #3DB07C;\",\r\n                icon(\"database\", class = \"header-icon\")\r\n            ),\r\n            div(style = \"padding: 20px;\",\r\n                div(class = \"dataset-title\", \"Mrsd Splice\"),\r\n                div(class = \"dataset-subtitle\", \"Contains RNA splicing data with gene and transcript information.\"),\r\n                div(class = \"info-row\",\r\n                    div(class = \"info-left\", icon(\"table\"), \"5 columns\"),\r\n                    div(class = \"info-right\", icon(\"list\"), \"6,747,459 rows\")\r\n                ),\r\n                actionButton(\"view_splice\", \"View Dataset\", icon = icon(\"eye\"), class = \"view-btn\")\r\n            )\r\n        ),\r\n        \r\n        # Vault\r\n        div(class = \"dataset-card\",\r\n            div(class = \"dataset-header\", style = \"background-color: #3864D2;\",\r\n                icon(\"database\", class = \"header-icon\")\r\n            ),\r\n            div(style = \"padding: 20px;\",\r\n                div(class = \"dataset-title\", \"Splice Vault\"),\r\n                div(class = \"dataset-subtitle\", \"Contains detailed splice junction data with counts.\"),\r\n                div(class = \"info-row\",\r\n                    div(class = \"info-left\", icon(\"table\"), \"20 columns\"),\r\n                    div(class = \"info-right\", icon(\"list\"), \"6,747,459 rows\")\r\n                ),\r\n                actionButton(\"view_vault\", \"View Dataset\", icon = icon(\"eye\"), class = \"view-btn\")\r\n            )\r\n        ),\r\n        \r\n        # Expression\r\n        div(class = \"dataset-card\",\r\n            div(class = \"dataset-header\", style = \"background-color: #DE2D6D;\",\r\n                icon(\"database\", class = \"header-icon\")\r\n            ),\r\n            div(style = \"padding: 20px;\",\r\n                div(class = \"dataset-title\", \"Mrsd Expression\"),\r\n                div(class = \"dataset-subtitle\", \"Contains gene expression levels across different samples.\"),\r\n                div(class = \"info-row\",\r\n                    div(class = \"info-left\", icon(\"table\"), \"15 columns\"),\r\n                    div(class = \"info-right\", icon(\"list\"), \"7,654,321 rows\")\r\n                ),\r\n                actionButton(\"view_expr\", \"View Dataset\", icon = icon(\"eye\"), class = \"view-btn\")\r\n            )\r\n        ),\r\n        \r\n        div(class = \"footer\", \"© 2025 RNA-seq Data Explorer\")\r\n      )\r\n    } else {\r\n      report_url <- switch(selected_dataset(),\r\n                           \"splice\" = \"https://app.powerbi.com/view?r=eyJrIjoiNGZmMTMzMjItY2IwNC00MmJiLWI1OTctNTRkNTZhMWIwZmI5IiwidCI6ImE4M2RiYTUzLTEyNGQtNGQzMi04OGYwLWI3Mjg4OWE5ZTkyNiIsImMiOjN9\",\r\n                           \"vault\"  = \"https://app.powerbi.com/view?r=eyJrIjoiNTZhZjIwN2UtOGM5Ni00NjAzLWExYzItYzc2NzdjYjM0YzdhIiwidCI6ImE4M2RiYTUzLTEyNGQtNGQzMi04OGYwLWI3Mjg4OWE5ZTkyNiIsImMiOjN9\",\r\n                           \"expr\"   = \"https://app.powerbi.com/view?r=eyJrIjoiNGZmMTMzMjItY2IwNC00MmJiLWI1OTctNTRkNTZhMWIwZmI5IiwidCI6ImE4M2RiYTUzLTEyNGQtNGQzMi04OGYwLWI3Mjg4OWE5ZTkyNiIsImMiOjN9\"  # TEMP same as splice\r\n      )\r\n      \r\n      tagList(\r\n        div(class = \"app-header\",\r\n            h2(\"Clinical RNA-seq Data Explorer\"),\r\n            span(\"Explore and analyze RNA sequencing datasets\")\r\n        ),\r\n        actionButton(\"back_btn\", \"← Back to Datasets\"),\r\n        div(class = \"iframe-wrapper\",\r\n            tags$iframe(\r\n              title = selected_dataset(),\r\n              src = report_url,\r\n              allowfullscreen = NA\r\n            )\r\n        ),\r\n        div(class = \"footer\", \"© 2025 RNA-seq Data Explorer\")\r\n      )\r\n    }\r\n  })\r\n  \r\n  observeEvent(input$view_splice, selected_dataset(\"splice\"))\r\n  observeEvent(input$view_vault, selected_dataset(\"vault\"))\r\n  observeEvent(input$view_expr,  selected_dataset(\"expr\"))\r\n  observeEvent(input$back_btn,   selected_dataset(NULL))\r\n}\r\n\r\nshinyApp(ui, server)","type":"text"},{"name":"New_RNASeq_Explorer.Rproj","content":"Version: 1.0\r\n\r\nRestoreWorkspace: Default\r\nSaveWorkspace: Default\r\nAlwaysSaveHistory: Default\r\n\r\nEnableCodeIndexing: Yes\r\nUseSpacesForTab: Yes\r\nNumSpacesForTab: 2\r\nEncoding: UTF-8\r\n\r\nRnwWeave: Sweave\r\nLaTeX: pdfLaTeX\r\n","type":"text"}]
